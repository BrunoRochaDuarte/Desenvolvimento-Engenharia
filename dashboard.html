<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Engenharia â€” Painel de Desenvolvimento</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Mono:wght@400;500&family=Outfit:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <style>
      /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       VARIABLES & RESET
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
      *,
      *::before,
      *::after {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      :root {
        --navy: #070f20;
        --navy2: #0c1829;
        --navy3: #0f2040;
        --panel: #111d35;
        --panel2: #162444;
        --border: rgba(59, 130, 246, 0.15);
        --border2: rgba(59, 130, 246, 0.28);
        --blue: #2563eb;
        --blue-lt: #3b82f6;
        --blue-glow: rgba(37, 99, 235, 0.25);
        --sky: #60a5fa;
        --gold: #f59e0b;
        --gold-lt: #fbbf24;
        --emerald: #10b981;
        --rose: #f43f5e;
        --slate: #64748b;
        --text: #c8d8f0;
        --text-dim: #6b8ab5;
        --text-muted: #2d4470;
        --white: #f0f7ff;
        --sans: 'Outfit', sans-serif;
        --mono: 'DM Mono', monospace;
        --ease: cubic-bezier(0.25, 0.46, 0.45, 0.94);
      }

      html { scroll-behavior: smooth; }
      body {
        font-family: var(--sans);
        background: var(--navy);
        color: var(--text);
        min-height: 100vh;
        overflow-x: hidden;
      }

      body::before {
        content: '';
        position: fixed;
        inset: 0;
        z-index: 0;
        pointer-events: none;
        background-image:
          linear-gradient(rgba(37, 99, 235, 0.04) 1px, transparent 1px),
          linear-gradient(90deg, rgba(37, 99, 235, 0.04) 1px, transparent 1px);
        background-size: 48px 48px;
      }

      .bg-glow {
        position: fixed;
        top: -300px;
        left: 50%;
        transform: translateX(-50%);
        width: 1200px;
        height: 700px;
        background: radial-gradient(ellipse, rgba(37, 99, 235, 0.13) 0%, transparent 65%);
        pointer-events: none;
        z-index: 0;
      }

      /* â”€â”€ LAYOUT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
      .app {
        position: relative;
        z-index: 1;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }

      /* â”€â”€ HEADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
      .header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 40px;
        height: 62px;
        border-bottom: 1px solid var(--border);
        background: rgba(7, 15, 32, 0.8);
        backdrop-filter: blur(16px);
        position: sticky;
        top: 0;
        z-index: 200;
      }
      .header-brand { display: flex; align-items: center; gap: 12px; }
      .header-logo {
        width: 32px; height: 32px; border-radius: 8px;
        background: linear-gradient(135deg, var(--blue), var(--sky));
        display: flex; align-items: center; justify-content: center;
        font-family: var(--mono); font-size: 0.8rem; font-weight: 500;
        color: #fff; letter-spacing: -0.02em;
      }
      .header-title { font-size: 0.9rem; font-weight: 600; color: var(--white); letter-spacing: 0.01em; }
      .header-sub { font-size: 0.72rem; color: var(--text-dim); margin-top: 1px; font-family: var(--mono); letter-spacing: 0.06em; }
      .header-right { display: flex; align-items: center; gap: 16px; }
      .header-pill {
        display: flex; align-items: center; gap: 6px;
        background: var(--panel); border: 1px solid var(--border);
        border-radius: 20px; padding: 5px 12px;
        font-family: var(--mono); font-size: 0.62rem; color: var(--text-dim); letter-spacing: 0.08em;
      }
      .live-dot {
        width: 10px; height: 10px; border-radius: 50%;
        background: var(--emerald); box-shadow: 0 0 15px var(--emerald);
        animation: blink 2s infinite;
      }
      @keyframes blink { 0%,100%{opacity:1} 50%{opacity:0.4} }

      .nav-tabs {
        display: flex; gap: 2px;
        background: var(--panel); border: 1px solid var(--border);
        border-radius: 8px; padding: 3px;
      }
      .nav-tab {
        padding: 5px 14px; border-radius: 6px;
        font-size: 0.75rem; font-weight: 500; letter-spacing: 0.02em;
        cursor: pointer; transition: all 0.2s var(--ease);
        color: var(--text-dim); border: none; background: none;
      }
      .nav-tab.active { background: var(--blue); color: #fff; box-shadow: 0 2px 8px var(--blue-glow); }
      .nav-tab:hover:not(.active) { color: var(--text); }

      /* â”€â”€ CONTENT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
      .content {
        flex: 1; padding: 32px 40px 80px;
        max-width: 1440px; margin: 0 auto; width: 100%;
      }
      .view { display: none; }
      .view.active { display: block; animation: fadeUp 0.4s var(--ease) both; }
      @keyframes fadeUp { from{opacity:0;transform:translateY(14px)} to{opacity:1;transform:translateY(0)} }

      /* â”€â”€ KPI ROW â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
      .kpi-row { display: grid; grid-template-columns: repeat(4,1fr); gap: 18px; margin-bottom: 28px; }
      .kpi {
        background: var(--panel); border: 1px solid var(--border);
        border-radius: 14px; padding: 22px 24px;
        position: relative; overflow: hidden;
        transition: border-color 0.25s, box-shadow 0.25s;
      }
      .kpi::before { content:''; position:absolute; top:0; left:0; right:0; height:3px; }
      .kpi.blue::before { background: linear-gradient(90deg, var(--blue), var(--sky)); }
      .kpi.gold::before { background: linear-gradient(90deg, var(--gold), var(--gold-lt)); }
      .kpi.green::before { background: linear-gradient(90deg, var(--emerald), #34d399); }
      .kpi.rose::before { background: linear-gradient(90deg, var(--rose), #fb7185); }
      .kpi:hover { border-color: var(--border2); box-shadow: 0 8px 32px rgba(0,0,0,0.3); }
      .kpi-label { font-family:var(--mono); font-size:0.62rem; color:var(--text-dim); text-transform:uppercase; letter-spacing:0.14em; margin-bottom:12px; display:flex; align-items:center; gap:8px; }
      .kpi-icon { font-size: 1rem; }
      .kpi-value { font-size:2.1rem; font-weight:800; color:var(--white); line-height:1; letter-spacing:-0.02em; }
      .kpi-value.gold { color: var(--gold-lt); }
      .kpi-value.green { color: #34d399; }
      .kpi-value.sm { font-size: 1.4rem; }
      .kpi-sub { margin-top:8px; font-size:0.73rem; color:var(--text-dim); }

      /* â”€â”€ DASH GRID â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
      .dash-grid { display:grid; grid-template-columns:1.2fr 1fr; gap:20px; margin-bottom:20px; }
      .dash-grid-3 { display:grid; grid-template-columns:1fr 1fr 1fr; gap:20px; margin-bottom:20px; }

      .card { background:var(--panel); border:1px solid var(--border); border-radius:14px; overflow:hidden; }
      .card-header { padding:16px 22px; border-bottom:1px solid var(--border); display:flex; align-items:center; justify-content:space-between; background:rgba(0,0,0,0.12); }
      .card-title { font-size:0.95rem; font-weight:600; color:var(--white); display:flex; align-items:center; gap:8px; }
      .card-title-dot { width:7px; height:7px; border-radius:50%; background:var(--blue-lt); box-shadow:0 0 8px var(--blue); }
      .card-badge { font-family:var(--mono); font-size:0.6rem; color:var(--text-dim); background:var(--panel2); border:1px solid var(--border); padding:3px 8px; border-radius:10px; letter-spacing:0.08em; }
      .card-body { padding: 22px; }

      /* â”€â”€ BAR CHART â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
      .bar-chart { display:flex; flex-direction:column; gap:14px; }
      .bar-row { display:flex; align-items:center; gap:12px; }
      .bar-label { font-size:0.75rem; color:var(--text); width:130px; flex-shrink:0; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
      .bar-track { flex:1; height:8px; background:var(--panel2); border-radius:4px; overflow:hidden; position:relative; }
      .bar-fill { height:100%; border-radius:4px; background:linear-gradient(90deg,var(--blue),var(--sky)); transition:width 1.2s var(--ease); position:relative; }
      .bar-fill::after { content:''; position:absolute; right:0; top:50%; transform:translateY(-50%); width:3px; height:12px; border-radius:2px; background:var(--sky); box-shadow:0 0 8px var(--sky); }
      .bar-val { font-family:var(--mono); font-size:0.68rem; color:var(--sky); width:80px; text-align:right; flex-shrink:0; }

      /* â”€â”€ DONUT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
      .donut-wrap { display:flex; align-items:center; gap:28px; }
      .donut-svg { flex-shrink:0; }
      .donut-legend { display:flex; flex-direction:column; gap:10px; flex:1; }
      .legend-item { display:flex; align-items:center; gap:10px; }
      .legend-dot { width:10px; height:10px; border-radius:50%; flex-shrink:0; }
      .legend-label { font-size:0.75rem; color:var(--text); flex:1; }
      .legend-val { font-family:var(--mono); font-size:0.68rem; color:var(--text-dim); }

      /* â”€â”€ TOP DEVS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
      .dev-list { display:flex; flex-direction:column; gap:12px; }
      .dev-row { display:flex; align-items:center; gap:14px; padding:12px 14px; background:var(--panel2); border:1px solid var(--border); border-radius:10px; transition:border-color 0.2s; }
      .dev-row:hover { border-color: var(--border2); }
      .dev-rank { font-family:var(--mono); font-size:0.65rem; color:var(--text-muted); width:18px; text-align:center; flex-shrink:0; }
      .dev-rank.top { color: var(--gold); }
      .dev-avatar { width:38px; height:38px; border-radius:10px; background:linear-gradient(135deg,var(--blue),#1e40af); display:flex; align-items:center; justify-content:center; font-weight:700; font-size:0.8rem; color:#fff; flex-shrink:0; border:1px solid rgba(59,130,246,0.3); }
      .dev-avatar.g2 { background: linear-gradient(135deg,#0369a1,#0284c7); }
      .dev-avatar.g3 { background: linear-gradient(135deg,#1e3a5f,#1e40af); }
      .dev-info { flex:1; min-width:0; }
      .dev-name { font-size:0.82rem; font-weight:600; color:var(--white); }
      .dev-projects { font-size:0.68rem; color:var(--text-dim); margin-top:2px; }
      .dev-econ { font-family:var(--mono); font-size:0.75rem; color:var(--sky); text-align:right; flex-shrink:0; }
      .dev-econ-label { font-size:0.6rem; color:var(--text-muted); margin-top:2px; text-align:right; }

      /* â”€â”€ STATUS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
      .status-grid { display:grid; grid-template-columns:1fr 1fr; gap:10px; }
      .status-block { background:var(--panel2); border:1px solid var(--border); border-radius:10px; padding:16px; display:flex; flex-direction:column; gap:6px; }
      .status-num { font-size:1.8rem; font-weight:800; color:var(--white); font-family:var(--mono); letter-spacing:-0.02em; }
      .status-num.green { color: #34d399; }
      .status-num.red { color: var(--rose); }
      .status-num.amber { color: var(--gold-lt); }
      .status-lbl { font-size:0.68rem; color:var(--text-dim); font-weight:500; }

      /* â”€â”€ TIMELINE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
      .timeline-chart { position:relative; }
      .timeline-bars { display: flex; align-items: flex-end; gap: 6px;height: 140px; padding-top: 30px; padding-bottom: 24px; }
      .tbar-col { display:flex; flex-direction:column; align-items:center; flex:1; }
      .tbar-fill { width:100%; border-radius:4px 4px 0 0; background:linear-gradient(180deg,var(--blue),#1e40af); transition:height 1s var(--ease); min-height:3px; position:relative; cursor:pointer; }
      .tbar-fill:hover { background: linear-gradient(180deg,var(--sky),var(--blue)); }
      .tbar-fill::after { content:attr(data-val); position:absolute; bottom:100%; left:50%; transform:translateX(-50%); background:var(--panel2); border:1px solid var(--border); border-radius:4px; padding:2px 6px; font-family:var(--mono); font-size:0.55rem; color:var(--sky); white-space:nowrap; opacity:0; pointer-events:none; transition:opacity 0.2s; }
      .tbar-fill:hover::after { opacity:1; }
      .tbar-label { font-family:var(--mono); font-size:0.55rem; color:var(--text-muted); margin-top:6px; }

      /* â”€â”€ CATALOG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
      .catalog-toolbar { display:flex; align-items:center; gap:14px; margin-bottom:24px; flex-wrap:wrap; }
      .search-wrap { flex:1; min-width:220px; position:relative; }
      .search-input { width:100%; background:var(--panel); border:1px solid var(--border); border-radius:10px; padding:10px 16px 10px 38px; color:var(--text); font-family:var(--sans); font-size:0.82rem; outline:none; transition:border-color 0.2s,box-shadow 0.2s; }
      .search-input::placeholder { color: var(--text-muted); }
      .search-input:focus { border-color:var(--blue-lt); box-shadow:0 0 0 3px var(--blue-glow); }
      .search-icon { position:absolute; left:12px; top:50%; transform:translateY(-50%); color:var(--text-dim); font-size:0.85rem; pointer-events:none; }
      .filter-btn { background:var(--panel); border:1px solid var(--border); border-radius:8px; padding:8px 14px; font-size:0.75rem; font-weight:500; color:var(--text-dim); cursor:pointer; transition:all 0.2s; white-space:nowrap; }
      .filter-btn:hover, .filter-btn.active { background:var(--blue); color:#fff; border-color:var(--blue); box-shadow:0 2px 12px var(--blue-glow); }

      .catalog-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(280px,1fr)); gap:18px; }

      .device-card { background:var(--panel); border:1px solid var(--border); border-radius:14px; overflow:hidden; cursor:pointer; transition:transform 0.25s var(--ease),border-color 0.25s,box-shadow 0.25s; animation:fadeUp 0.35s var(--ease) both; text-decoration:none; display:flex; flex-direction:column; }
      .device-card:hover { transform:translateY(-5px); border-color:rgba(59,130,246,0.45); box-shadow:0 16px 48px rgba(0,0,0,0.4),0 0 0 1px rgba(59,130,246,0.1); }

      .card-img-wrap { position:relative; height:170px; overflow:hidden; background:var(--panel2); border-bottom:1px solid var(--border); }
      .card-img { width:100%; height:100%; object-fit:cover; display:block; transition:transform 0.4s var(--ease); }
      .device-card:hover .card-img { transform: scale(1.04); }
      .card-img-placeholder { width:100%; height:100%; display:flex; align-items:center; justify-content:center; font-size:2.5rem; color:var(--text-muted); background:linear-gradient(135deg,var(--panel2),var(--panel)); }
      .card-status-badge { position:absolute; top:12px; right:12px; font-family:var(--mono); font-size:0.58rem; font-weight:500; padding:4px 10px; border-radius:20px; letter-spacing:0.08em; text-transform:uppercase; backdrop-filter:blur(8px); }
      .badge-done { background:rgba(16,185,129,0.2); color:#34d399; border:1px solid rgba(16,185,129,0.3); }
      .badge-wait { background:rgba(245,158,11,0.2); color:var(--gold-lt); border:1px solid rgba(245,158,11,0.3); }
      .badge-cancel { background:rgba(244,63,94,0.2); color:#fb7185; border:1px solid rgba(244,63,94,0.3); }
      .card-cat-badge { position:absolute; top:12px; left:12px; font-family:var(--mono); font-size:0.55rem; padding:3px 8px; border-radius:4px; letter-spacing:0.06em; background:rgba(7,15,32,0.7); color:var(--sky); border:1px solid rgba(59,130,246,0.25); backdrop-filter:blur(8px); }

      .card-body { padding:18px 20px 20px; flex:1; display:flex; flex-direction:column; }
      .card-id { font-family:var(--mono); font-size:0.6rem; color:var(--blue-lt); letter-spacing:0.1em; margin-bottom:5px; }
      .card-name { font-size:0.92rem; font-weight:600; color:var(--white); line-height:1.35; margin-bottom:8px; }
      .card-desc { font-size:0.75rem; color:var(--text-dim); line-height:1.6; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; flex:1; }
      .card-footer { display:flex; align-items:center; justify-content:space-between; margin-top:14px; padding-top:12px; border-top:1px solid var(--border); }
      .card-devs { font-size:0.68rem; color:var(--text-dim); }
      .card-econ { font-family:var(--mono); font-size:0.75rem; color:#34d399; font-weight:500; }
      .card-econ.zero { color: var(--text-muted); }

      /* â”€â”€ DETAIL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
      .back-btn { display:inline-flex; align-items:center; gap:8px; font-size:0.78rem; color:var(--text-dim); cursor:pointer; border:none; background:none; margin-bottom:28px; transition:color 0.2s; }
      .back-btn:hover { color: var(--blue-lt); }

      .detail-layout { display:grid; grid-template-columns:380px 1fr; gap:28px; align-items:start; }

      .detail-img-card { background:var(--panel); border:1px solid var(--border); border-radius:14px; overflow:hidden; position:sticky; top:80px; }
      .detail-img { width:100%; height:280px; object-fit:cover; display:block; background:var(--panel2); }
      .detail-img-meta { padding:18px 20px; display:flex; flex-direction:column; gap:12px; }
      .meta-row { display:flex; justify-content:space-between; align-items:center; }
      .meta-key { font-family:var(--mono); font-size:0.62rem; color:var(--text-dim); text-transform:uppercase; letter-spacing:0.1em; }
      .meta-val { font-size:0.8rem; font-weight:600; color:var(--white); }
      .meta-sep { height:1px; background:var(--border); }

      .detail-right { display:flex; flex-direction:column; gap:18px; }
      .detail-title-area { margin-bottom:4px; }
      .detail-eyebrow { display:flex; align-items:center; gap:10px; margin-bottom:10px; }
      .detail-cat-tag { font-family:var(--mono); font-size:0.62rem; color:var(--sky); background:rgba(59,130,246,0.1); border:1px solid rgba(59,130,246,0.2); padding:3px 10px; border-radius:4px; letter-spacing:0.08em; }
      .detail-title { font-size:2rem; font-weight:800; color:var(--white); line-height:1.15; letter-spacing:-0.02em; }

      .info-card { background:var(--panel); border:1px solid var(--border); border-radius:12px; overflow:hidden; }
      .info-card-hdr { padding:13px 20px; border-bottom:1px solid var(--border); font-family:var(--mono); font-size:0.62rem; color:var(--text-dim); text-transform:uppercase; letter-spacing:0.12em; background:rgba(0,0,0,0.15); display:flex; align-items:center; gap:8px; }
      .info-card-hdr .dot { width:6px; height:6px; border-radius:50%; flex-shrink:0; }
      .info-card-body { padding:18px 20px; }
      .info-card-body p { font-size:0.85rem; line-height:1.75; color:var(--text); }

      .cost-grid { display:grid; grid-template-columns:1fr 1fr 1fr; gap:12px; }
      .cost-item { background:var(--panel2); border:1px solid var(--border); border-radius:10px; padding:14px 16px; }
      .cost-label { font-family:var(--mono); font-size:0.58rem; color:var(--text-dim); text-transform:uppercase; letter-spacing:0.1em; margin-bottom:6px; }
      .cost-value { font-family:var(--mono); font-size:1.05rem; font-weight:700; }
      .cost-value.ext { color: var(--rose); }
      .cost-value.int { color: var(--text); }
      .cost-value.econ { color: #34d399; }

      .dev-chips { display:flex; flex-wrap:wrap; gap:10px; }
      .dev-chip { display:flex; align-items:center; gap:10px; background:var(--panel2); border:1px solid var(--border); border-radius:10px; padding:10px 14px; }
      .dev-chip-av { width:35px; height:35px; border-radius:20px; background:linear-gradient(135deg,var(--blue),#031965); display:flex; align-items:center; justify-content:center; font-size:0.72rem; font-weight:700; color:#ffffff; flex-shrink:0; }
      .dev-chip-name { font-size:0.8rem; font-weight:600; color:var(--white); }
      .dev-chip-role { font-size:0.62rem; color:var(--text-dim); margin-top:1px; }

      .obs-text { font-size:0.8rem; line-height:1.7; color:var(--text-dim); font-style:italic; border-left:3px solid var(--border2); padding-left:14px; }

      .link-btn { display:inline-flex; align-items:center; gap:8px; background:var(--blue); color:#fff; padding:10px 20px; border-radius:8px; font-size:0.8rem; font-weight:600; text-decoration:none; transition:background 0.2s,box-shadow 0.2s; box-shadow:0 4px 16px var(--blue-glow); }
      .link-btn:hover { background: var(--blue-lt); }

      /* â”€â”€ FOOTER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
      .footer {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 52px;
  background: rgba(7, 15, 32, 0.95);
  backdrop-filter: blur(14px);
  border-top: 1px solid rgba(59, 130, 246, 0.25);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-family: var(--mono);
  font-size: 0.75rem;
  color: var(--text-dim);
  letter-spacing: 0.08em;
  z-index: 100;

  
}
.footer strong {
  color: var(--white);
  font-size: 0.82rem;
  letter-spacing: 0.05em;
}

  @media (max-width: 480px) {
  .footer {
    font-size: 0.6rem;
    height: 44px;
    padding: 0 12px;
  }
  .footer strong {
    font-size: 0.65rem;
  }}

      /* â”€â”€ LOADING â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.loading-screen {
  position: fixed;
  inset: 0;
  z-index: 999;
  background: radial-gradient(circle at center, #d9dbe1 0%, #04142a 45%);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 50px;
}

.loading-logo {
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  animation: pulse2 1.5s infinite;
}

.loading-logo img {
  width: auto;
  height: auto;
  object-fit: contain;
  display: block;
  border-radius: 20px;
}

@keyframes pulse2 {
  0%,100% { opacity: 1; }
  50% { opacity: 0.85; }
}

.loading-text {
  display: none;
}

.loading-bar {
  width: 340px;
  height: 50px;
  background: rgba(59, 130, 246, 0.15);
  border-radius: 1px;
  overflow: hidden;
  position: absolute;
  bottom: 48px;
}

.loading-progress {
  height: 100%;
  background: linear-gradient(90deg, var(--blue), var(--sky));
  border-radius: 3px;
  animation: load 1.8s var(--ease) forwards;
}

@keyframes load {
  from { width: 0; }
  to { width: 100%; }
}

      /* â”€â”€ NO RESULTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
      .no-results { text-align:center; padding:60px 20px; font-family:var(--mono); font-size:0.8rem; color:var(--text-muted); }

      /* â”€â”€ RESPONSIVE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
      @media (max-width: 1100px) {
        .kpi-row { grid-template-columns: repeat(2,1fr); }
        .dash-grid { grid-template-columns: 1fr; }
        .dash-grid-3 { grid-template-columns: 1fr 1fr; }
        .detail-layout { grid-template-columns: 1fr; }
        .detail-img-card { position: static; }
      }
      @media (max-width: 700px) {
        .content { padding: 20px 16px 80px; }
        .header { padding: 0 16px; }
        .kpi-row { grid-template-columns: 1fr 1fr; }
        .dash-grid-3 { grid-template-columns: 1fr; }
        .cost-grid { grid-template-columns: 1fr; }
        .nav-tab { padding: 5px 10px; font-size: 0.68rem; }
      }

      .tbar-val-top {
  font-family: var(--mono);
  font-size: 0.6rem;
  color: var(--white);
  margin-bottom: 4px;
}

/* troca a cor aqui */
.tbar-fill {
  background: linear-gradient(180deg, #ef4444, #f97316);
}
.tbar-fill:hover {
  background: linear-gradient(180deg, #fb923c, #ef4444);
}


    </style>
  </head>
  <body>
    <div class="bg-glow"></div>

    <!-- Loading screen -->
    <div class="loading-screen" id="loading">
      <div class="loading-logo"><img src="Imagens/1.png" alt="tela de carregamento padrÃ£o" style="width: 250px;" ></div>
      <div class="loading-text">CARREGANDO DADOS Â· ENGENHARIA</div>
      <div class="loading-bar"><div class="loading-progress"></div></div>
    </div>

    <div class="app" id="app" style="display:none">
      <!-- HEADER -->
      <header class="header">
        <div class="header-brand">
          <div class="header-logo">ENG</div>
          <div>
            <div class="header-title">Painel de Desenvolvimento</div>
            <div class="header-sub">ENGENHARIA F1</div>
          </div>
        </div>
        <div class="header-right">
          <div class="header-pill">
            <div class="live-dot"></div>
            ATIVO
          </div>
          <nav class="nav-tabs">
            <button class="nav-tab active" onclick="showView('dashboard')">Dashboard</button>
            <button class="nav-tab" onclick="showView('catalog')">CatÃ¡logo</button>
          </nav>
        </div>
      </header>

      <div class="content">

        <!-- â”€â”€ DASHBOARD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <div class="view active" id="view-dashboard">
          <div class="kpi-row" id="kpi-row"></div>
          <div class="dash-grid">
            <div class="card">
              <div class="card-header">
                <div class="card-title"><div class="card-title-dot"></div>Economia por Categoria</div>
                <div class="card-badge" id="cat-count-badge">â€”</div>
              </div>
              <div class="card-body"><div class="bar-chart" id="bar-chart"></div></div>
            </div>
            <div class="card">
              <div class="card-header">
                <div class="card-title">
                  <div class="card-title-dot" style="background:#fbbf24;box-shadow:0 0 8px #f59e0b"></div>
                  DistribuiÃ§Ã£o por Categoria
                </div>
              </div>
              <div class="card-body">
                <div class="donut-wrap">
                  <svg class="donut-svg" width="130" height="130" viewBox="0 0 130 130" id="donut-svg"></svg>
                  <div class="donut-legend" id="donut-legend"></div>
                </div>
              </div>
            </div>
          </div>
          <div class="dash-grid-3">
            <div class="card">
              <div class="card-header">
                <div class="card-title">
                  <div class="card-title-dot" style="background:#34d399;box-shadow:0 0 8px #10b981"></div>
                  Top Desenvolvedores
                </div>
              </div>
              <div class="card-body" style="padding:14px"><div class="dev-list" id="dev-list"></div></div>
            </div>
            <div class="card">
              <div class="card-header">
                <div class="card-title">
                  <div class="card-title-dot" style="background:#920adb;box-shadow:0 0 8px #f43f5e"></div>
                  Status dos Projetos
                </div>
              </div>
              <div class="card-body"><div class="status-grid" id="status-grid"></div></div>
            </div>
            <div class="card">
              <div class="card-header">
                <div class="card-title"><div class="card-title-dot"></div>Projetos por PerÃ­odo</div>
              </div>
              <div class="card-body" style="padding:16px">
                <div class="timeline-chart">
                  <div class="timeline-bars" id="timeline-bars"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- â”€â”€ CATALOG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <div class="view" id="view-catalog">
          <div class="catalog-toolbar" id="catalog-toolbar">
            <div class="search-wrap">
              <span class="search-icon">âŒ•</span>
              <input class="search-input" id="search-input" type="text" placeholder="Buscar dispositivo, categoria, desenvolvedor..." />
            </div>
            <div id="filter-btns" style="display:flex;gap:8px;flex-wrap:wrap"></div>
          </div>
          <div class="catalog-grid" id="catalog-grid"></div>
        </div>

        <!-- â”€â”€ DETAIL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <div class="view" id="view-detail">
          <button class="back-btn" onclick="showView('catalog')">â† Voltar ao CatÃ¡logo</button>
          <div class="detail-layout" id="detail-layout"></div>
        </div>

      </div><!-- /content -->
    </div><!-- /app -->

    <div class="footer">
      Desenvolvido por <strong>Bruno R. Duarte</strong> & <strong>Matheus H. Tinti</strong>
    </div>

    <script>
      /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         CONFIG â€” troque FILE_ID e API_KEY se necessÃ¡rio
      â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
      const FILE_ID = '1ahiuDOxNHX8w2Z1josSThcbPuThvHW9C';
      const API_KEY = 'AIzaSyCh2dRhYZZ-knS8w7kTcmoxY4TqR-g2_XU';
      const DATA_URL = `https://www.googleapis.com/drive/v3/files/${FILE_ID}?alt=media&key=${API_KEY}`;

      let ALL_DATA = [];
      let currentFilter = 'Todos';

      /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         HELPERS
      â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
      function excelDate(v) {
        const n = Number(v);
        if (!isNaN(n) && n > 59) {
          const d = new Date((n - 25569) * 86400 * 1000);
          return d.toLocaleDateString('pt-BR');
        }
        const d2 = new Date(v);
        return isNaN(d2.getTime()) ? String(v || 'â€”') : d2.toLocaleDateString('pt-BR');
      }

      function fmtBR(v) {
        const n = Number(v);
        if (isNaN(n)) return 'â€”';
        return 'R$ ' + n.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
      }

      function fmtShort(v) {
        const n = Number(v);
        if (isNaN(n)) return 'â€”';
        if (n >= 1000) return 'R$ ' + (n / 1000).toFixed(1) + 'k';
        return 'R$ ' + n.toFixed(0);
      }

      function normalizeImg(u) {
        if (!u || u.trim() === '') return '';
        let s = u.trim().replace('/refs/heads/main/', '/main/');
        if (!/^[a-zA-Z]+:\/\//.test(s)) s = 'https://' + s.replace(/^\/+/, '');
        try {
          const p = new URL(s);
          p.pathname = p.pathname.split('/').map(seg => seg ? encodeURIComponent(decodeURIComponent(seg)) : '').join('/');
          return p.toString();
        } catch { return s; }
      }

      function statusClass(s) {
        if (!s) return 'badge-wait';
        if (s.toLowerCase().includes('conclu')) return 'badge-done';
        if (s.toLowerCase().includes('cancel')) return 'badge-cancel';
        return 'badge-wait';
      }

      function initials(name) {
        return (name || '?').split(' ').filter(Boolean).slice(0, 2).map(w => w[0]).join('').toUpperCase();
      }

      const PALETTE = ['#ef4444','#f97316','#eab308','#22c55e','#06b6d4','#3b82f6','#a855f7','#ec4899'];

      /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         ANALYTICS
      â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
      function buildAnalytics(data) {
        const totalEcon = data.reduce((s, d) => s + Number(d.Economia || 0), 0);
        const totalProj = data.length;
        const concluded = data.filter(d => (d.Status || '').toLowerCase().includes('conclu')).length;
        const cancelled = data.filter(d => (d.Status || '').toLowerCase().includes('cancel')).length;
        const waiting = data.filter(d => !(d.Status||'').toLowerCase().includes('conclu') && !(d.Status||'').toLowerCase().includes('cancel')).length;

        const devMap = {};
        data.forEach(d => {
          const resp = d['ResponsÃ¡vel pelo Desenvolvimento'] || '';
          resp.split(/;|,/).map(s => s.trim()).filter(Boolean).forEach(name => {
            if (!devMap[name]) devMap[name] = { econ: 0, count: 0 };
            devMap[name].econ += Number(d.Economia || 0);
            devMap[name].count++;
          });
        });
        const devs = Object.entries(devMap).sort((a, b) => b[1].econ - a[1].econ);
        const totalDevs = devs.length;

        const catMap = {};
        data.forEach(d => {
          const c = (d.Categoria || 'Outros').trim();
          if (!catMap[c]) catMap[c] = 0;
          catMap[c] += Number(d.Economia || 0);
        });
        const cats = Object.entries(catMap).sort((a, b) => b[1] - a[1]);

        const catCountMap = {};
        data.forEach(d => {
          const c = (d.Categoria || 'Outros').trim();
          catCountMap[c] = (catCountMap[c] || 0) + 1;
        });
        const catCounts = Object.entries(catCountMap).sort((a, b) => b[1] - a[1]);

        const monthMap = {};
        data.forEach(d => {
          const n = Number(d.Data);
          if (!n || n <= 59) return;
          const dt = new Date((n - 25569) * 86400 * 1000);
          const key = `${dt.getFullYear()}-${String(dt.getMonth()+1).padStart(2,'0')}`;
          monthMap[key] = (monthMap[key] || 0) + 1;
        });
        const timeline = Object.entries(monthMap).sort((a, b) => a[0] > b[0] ? 1 : -1);

        return { totalEcon, totalProj, concluded, cancelled, waiting, devs, totalDevs, cats, catCounts, catCountMap, timeline };
      }

      /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         RENDER DASHBOARD
      â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
      function renderDashboard(data) {
        const A = buildAnalytics(data);

        document.getElementById('kpi-row').innerHTML = `
          <div class="kpi blue">
            <div class="kpi-label"><span class="kpi-icon">ğŸ› ï¸</span> Total de Projetos</div>
            <div class="kpi-value">${A.totalProj}</div>
            <div class="kpi-sub">${A.concluded} concluÃ­dos Â· ${A.waiting} em andamento</div>
          </div>
          <div class="kpi gold">
            <div class="kpi-label"><span class="kpi-icon">ğŸ’°</span> Economia Gerada</div>
            <div class="kpi-value gold sm">${fmtBR(A.totalEcon)}</div>
            <div class="kpi-sub">Valor acumulado total</div>
          </div>
          <div class="kpi green">
            <div class="kpi-label"><span class="kpi-icon">ğŸ‘¥</span> Desenvolvedores</div>
            <div class="kpi-value green">${A.totalDevs}</div>
            <div class="kpi-sub">Desenvolvedores ativos</div>
          </div>
          <div class="kpi rose">
            <div class="kpi-label"><span class="kpi-icon">ğŸ·ï¸</span> Categorias</div>
            <div class="kpi-value">${A.cats.length}</div>
            <div class="kpi-sub">Tipos de dispositivos</div>
          </div>`;

        const maxEcon = A.cats[0]?.[1] || 1;
        document.getElementById('cat-count-badge').textContent = `${A.cats.length} categorias`;
        document.getElementById('bar-chart').innerHTML = A.cats.slice(0, 8).map(([cat, val]) => `
          <div class="bar-row">
            <div class="bar-label" title="${cat}">${cat}</div>
            <div class="bar-track"><div class="bar-fill" style="width:${((val/maxEcon)*100).toFixed(1)}%"></div></div>
            <div class="bar-val">${fmtShort(val)}</div>
          </div>`).join('');

        const total = A.catCounts.reduce((s,[,v]) => s+v, 0);
        const top6 = A.catCounts.slice(0, 6);
        const others = A.catCounts.slice(6).reduce((s,[,v]) => s+v, 0);
        const slices = others > 0 ? [...top6, ['Outros', others]] : top6;

        let cumAngle = -90;
        const cx=65, cy=65, r=50, ri=34;
        const paths = slices.map(([cat,count], i) => {
          const angle = (count/total)*360;
          const startRad = cumAngle*(Math.PI/180);
          const endRad = (cumAngle+angle)*(Math.PI/180);
          cumAngle += angle;
          const x1=cx+r*Math.cos(startRad), y1=cy+r*Math.sin(startRad);
          const x2=cx+r*Math.cos(endRad),   y2=cy+r*Math.sin(endRad);
          const ix1=cx+ri*Math.cos(startRad), iy1=cy+ri*Math.sin(startRad);
          const ix2=cx+ri*Math.cos(endRad),   iy2=cy+ri*Math.sin(endRad);
          const large = angle>180?1:0;
          return `<path d="M${x1},${y1} A${r},${r} 0 ${large},1 ${x2},${y2} L${ix2},${iy2} A${ri},${ri} 0 ${large},0 ${ix1},${iy1} Z" fill="${PALETTE[i%PALETTE.length]}" stroke="#070f20" stroke-width="2" opacity="0.9"/>`;
        }).join('');

        document.getElementById('donut-svg').innerHTML = `
          ${paths}
          <text x="65" y="61" text-anchor="middle" fill="#c8d8f0" font-size="18" font-weight="800" font-family="Outfit,sans-serif">${total}</text>
          <text x="65" y="74" text-anchor="middle" fill="#6b8ab5" font-size="7" font-family="DM Mono,monospace" letter-spacing="1">PROJETOS</text>`;

        document.getElementById('donut-legend').innerHTML = slices.map(([cat,count],i) => `
          <div class="legend-item">
            <div class="legend-dot" style="background:${PALETTE[i%PALETTE.length]}"></div>
            <div class="legend-label">${cat}</div>
            <div class="legend-val">${((count/total)*100).toFixed(1)}%</div>
          </div>`).join('');

        document.getElementById('dev-list').innerHTML = A.devs.slice(0,5).map(([name,{econ,count}],i) => `
          <div class="dev-row" style="${i < 3 ? 'border-color:rgba(251,191,36,0.3);background:rgba(251,191,36,0.05);' : 'opacity:0.6;'}">
            <div class="dev-rank" style="${i < 3 ? 'color:#fbbf24;font-weight:700;' : 'color:var(--text-muted);'}">${i===0?'1Âº':i===1?'2Âº':i===2?'3Âº':i+1+'Âº'}</div>
            <div class="dev-avatar ${i===0?'':i===1?'g2':'g3'}">${initials(name)}</div>
            <div class="dev-info">
             <div class="dev-name" style="${i < 3 ? 'font-size:1rem;color:#ffffff;font-weight:700;' : 'font-size:0.75rem;color:var(--text-dim);'}">${name}</div>
              <div class="dev-projects">${count} projeto${count!==1?'s':''}</div>
            </div>
            <div>
              <div class="dev-econ">${fmtShort(econ)}</div>
              <div class="dev-econ-label">economia</div>
            </div>
          </div>`).join('');

        document.getElementById('status-grid').innerHTML = `
          <div class="status-block"><div class="status-num green">${A.concluded}</div><div class="status-lbl">ConcluÃ­dos</div></div>
          <div class="status-block"><div class="status-num amber">${A.waiting}</div><div class="status-lbl">Em Andamento</div></div>
          <div class="status-block"><div class="status-num red">${A.cancelled}</div><div class="status-lbl">Cancelados</div></div>
          <div class="status-block"><div class="status-num">${((A.concluded / Math.max(A.concluded + A.cancelled, 1)) * 100).toFixed(0)}%</div><div class="status-lbl">Taxa de ConclusÃ£o</div></div>`;

        const maxTL = Math.max(...A.timeline.map(([,v])=>v), 1);
        const monthNames = ['Jan','Fev','Mar','Abr','Mai','Jun','Jul','Ago','Set','Out','Nov','Dez'];
        document.getElementById('timeline-bars').innerHTML = A.timeline.map(([key,count]) => {
          const [y,m] = key.split('-');
          const label = monthNames[+m-1]+' '+y.slice(2);
          const pct = Math.round((count/maxTL)*80);
          return `<div class="tbar-col">
  <div class="tbar-val-top">${count}</div>
  <div class="tbar-fill" style="height:${pct}px" data-val="${count} projeto${count!==1?'s':''}"></div>
  <div class="tbar-label">${label}</div>
</div>`;
        }).join('');
      }

      /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         RENDER CATALOG
      â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
      function renderCatalog(data, filter='Todos', search='') {
        const cats = ['Todos', ...new Set(data.map(d => (d.Categoria||'Outros').trim()))];

        if (!document.getElementById('filter-btns').dataset.rendered) {
          document.getElementById('filter-btns').dataset.rendered = '1';
          document.getElementById('filter-btns').innerHTML = cats.map(c =>
            `<button class="filter-btn ${c===currentFilter?'active':''}" onclick="applyFilter('${c}')">${c}</button>`
          ).join('');
        }

       let filtered = data.filter(d => !(d.Status||'').toLowerCase().includes('cancel'));
if (filter !== 'Todos') filtered = filtered.filter(d => (d.Categoria||'Outros').trim() === filter);
        if (search) {
          const q = search.toLowerCase();
          filtered = filtered.filter(d =>
            (d.Item||'').toLowerCase().includes(q) ||
            (d.Categoria||'').toLowerCase().includes(q) ||
            (d['ResponsÃ¡vel pelo Desenvolvimento']||'').toLowerCase().includes(q) ||
            (d.Detalhamento||'').toLowerCase().includes(q)
          );
        }

        if (!filtered.length) {
          document.getElementById('catalog-grid').innerHTML = '<div class="no-results">Nenhum resultado encontrado.</div>';
          return;
        }

        document.getElementById('catalog-grid').innerHTML = filtered.map((d,i) => {
          const imgSrc = d.Imagem && d.Imagem.trim() !== '' ? normalizeImg(d.Imagem) : '';
          const econ = Number(d.Economia||0);
          const sc = statusClass(d.Status);
          return `<div class="device-card" onclick="showDetail('${d.ItemInternalId}')" style="animation-delay:${i*0.03}s">
            <div class="card-img-wrap">
              ${imgSrc
               ? `<img class="card-img" src="${imgSrc}" alt="${d.Item||''}" onerror="this.style.display='none';this.nextElementSibling.style.display='flex'"><div class="card-img-placeholder" style="display:none;position:absolute;inset:0;"><img src="Imagens/holder-dispositivos.png" style="width:100%;height:100%;object-fit:contain;padding:16px;"></div>`
: `<div class="card-img-placeholder"><img src="Imagens/holder-dispositivos.png" style="width:100%;height:100%;object-fit:contain;padding:16px;"></div>`
}
              <div class="card-status-badge ${sc}">${d.Status||'â€”'}</div>
              <div class="card-cat-badge">${(d.Categoria||'Outros').trim()}</div>
            </div>
            <div class="card-body">
              <div class="card-id">ID ${d.ID||'â€”'}</div>
              <div class="card-name">${d.Item||d.Detalhamento||'Sem nome'}</div>
              <div class="card-desc">${d.Detalhamento||'â€”'}</div>
              <div class="card-footer">
                <div class="card-devs">${(d['ResponsÃ¡vel pelo Desenvolvimento']||'â€”').split(/;|,/)[0].trim()}</div>
                <div class="card-econ ${econ===0?'zero':''}">${econ>0?fmtShort(econ):'â€”'}</div>
              </div>
            </div>
          </div>`;
        }).join('');
      }

      function applyFilter(cat) {
        currentFilter = cat;
        document.querySelectorAll('.filter-btn').forEach(b => b.classList.toggle('active', b.textContent===cat));
        renderCatalog(ALL_DATA, cat, document.getElementById('search-input')?.value||'');
      }

      /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         DETAIL
      â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
      function showDetail(uid) {
        const d = ALL_DATA.find(x => x.ItemInternalId === uid);
        if (!d) return;
        showView('detail');

        const imgSrc = normalizeImg(d.Imagem);
        const econ = Number(d.Economia||0);
        const ext = Number(d['Custo Externo']||0);
        const intC = Number(d['Custo Interno']||0);
        const devs = (d['ResponsÃ¡vel pelo Desenvolvimento']||'').split(/;|,/).map(s=>s.trim()).filter(Boolean);

        document.getElementById('detail-layout').innerHTML = `
          <div class="detail-img-card">
            ${imgSrc
              ? `<img class="detail-img" src="${imgSrc}" alt="${d.Item||''}" onerror="this.style.display='none'">`
              : `<div style="height:220px;display:flex;align-items:center;justify-content:center;font-size:3rem;background:var(--panel2)">âš™ï¸</div>`}
            <div class="detail-img-meta">
              <div class="meta-row">
                <span class="meta-key">Status</span>
                <span class="card-status-badge ${statusClass(d.Status)}" style="position:static">${d.Status||'â€”'}</span>
              </div>
              <div class="meta-sep"></div>
              <div class="meta-row"><span class="meta-key">Data</span><span class="meta-val">${d.Data?excelDate(d.Data):'â€”'}</span></div>
              <div class="meta-row"><span class="meta-key">Quantidade</span><span class="meta-val">${d.Quantidade||'â€”'}</span></div>
              ${d['Link do Projeto']?`<div class="meta-sep"></div><a class="link-btn" href="${d['Link do Projeto']}" target="_blank" rel="noopener">ğŸ”— Ver Projeto</a>`:''}
            </div>
          </div>
          <div class="detail-right">
            <div class="detail-title-area">
              <div class="detail-eyebrow">
                <div class="detail-cat-tag">${(d.Categoria||'Outros').trim()}</div>
                <div class="card-status-badge ${statusClass(d.Status)}" style="position:static">${d.Status||'â€”'}</div>
              </div>
              <h1 class="detail-title">${d.Item||d.Detalhamento||'Sem nome'}</h1>
            </div>
            <div class="info-card">
              <div class="info-card-hdr"><div class="dot" style="background:var(--blue-lt);box-shadow:0 0 6px var(--blue)"></div>DescriÃ§Ã£o / Finalidade</div>
              <div class="info-card-body"><p>${d.Detalhamento||'â€”'}</p></div>
            </div>
            <div class="info-card">
              <div class="info-card-hdr"><div class="dot" style="background:#34d399;box-shadow:0 0 6px #10b981"></div>AnÃ¡lise de Custos</div>
              <div class="info-card-body">
                <div class="cost-grid">
                  <div class="cost-item"><div class="cost-label">Custo Externo</div><div class="cost-value ext">${ext>0?fmtBR(ext):'â€”'}</div></div>
                  <div class="cost-item"><div class="cost-label">Custo Interno</div><div class="cost-value int">${intC>0?fmtBR(intC):'â€”'}</div></div>
                  <div class="cost-item"><div class="cost-label">Economia Gerada</div><div class="cost-value econ">${econ>0?fmtBR(econ):'â€”'}</div></div>
                </div>
              </div>
            </div>
            <div class="info-card">
              <div class="info-card-hdr"><div class="dot" style="background:#60a5fa;box-shadow:0 0 6px var(--blue)"></div>Equipe de Desenvolvimento</div>
              <div class="info-card-body">
                <div class="dev-chips">
                  ${devs.map(name=>`
                    <div class="dev-chip">
                      <div class="dev-chip-av">${initials(name)}</div>
                      <div><div class="dev-chip-name">${name}</div><div class="dev-chip-role">Desenvolvedor</div></div>
                    </div>`).join('')}
                </div>
              </div>
            </div>
            ${d.Obs?`
            <div class="info-card">
            </div>`:''}
          </div>`;
      }

      /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         VIEW ROUTING
      â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
      function showView(name) {
        document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
        document.getElementById('view-'+name).classList.add('active');
        document.querySelectorAll('.nav-tab').forEach(t => {
          t.classList.toggle('active',
            t.textContent.toLowerCase() === name ||
            (name === 'detail' && t.textContent === 'CatÃ¡logo')
          );
        });
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }

      /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         INIT
      â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
      async function init() {
        try {
          const res = await fetch(DATA_URL, { cache: 'no-cache' });
          if (!res.ok) throw new Error('HTTP ' + res.status);
          let data = await res.json();
          if (!Array.isArray(data)) {
            if (Array.isArray(data.data)) data = data.data;
            else throw new Error('Formato inesperado');
          }
          // Adiciona ID interno Ãºnico para cada registro
          ALL_DATA = data.map((d, i) => ({ ...d, ItemInternalId: `item_${i}` }));
        } catch (e) {
          console.error(e);
          ALL_DATA = [];
        }

         setTimeout(() => {
          document.getElementById('loading').style.display = 'none';
          document.getElementById('app').style.display = 'flex';
           }, 2000);

        renderDashboard(ALL_DATA);
        renderCatalog(ALL_DATA);

        document.getElementById('search-input').addEventListener('input', e => {
          renderCatalog(ALL_DATA, currentFilter, e.target.value);
        });
      }

      init();
    </script>
  </body>
</html>
